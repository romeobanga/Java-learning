package produit;

public class Mecanisme extends Produit {
	
	private String heure;
	
	public Mecanisme (double valeurDeBase, String uneHeure) {
		super(valeurDeBase);
		heure = uneHeure;
	}
	
	public Mecanisme (double valeurDeBase) {
		super(valeurDeBase);
		heure = "12:00";
	}

//Tous les mecanismes doivent s'afficher comme ceci
		public final String toString() {
			String result = "Mécanisme ";
			result += toStringType();
			result += "affichage : ";
			result += toStringCadran();
			result += "), prix : ";
			result += result.toString();
			return result;
		}
		
		protected String toStringCadran() {
			return heure;
		}
		
		protected abstract String toStringType();
}				

		public class mecanismeAnalogique extends Mecanisme {
			
			private int date;
			public mecanismeAnalogique(double valeurDeBase, String uneHeure, int uneDate) {
				super(valeurDeBase,uneHeure);
				date = uneDate;
			}
			
			@Override
			protected String toStringType () {
				return "analogique";
			}	
		}
		
		
		public class mecanismeDigital extends Mecanisme implements ReveilDigital {
			
			private String reveil;
			public mecanismeDigital(double valeurDeBase, String uneHeure, String unReveil) {
				super(valeurDeBase, uneHeure);
				reveil = unReveil;
			}

			@Override
			protected String toStringType () {
				return "digital";
			}	
			
			@Override
			protected String toStringCadran () {
				return super.toStringCadran() + ", " + toStringReveil();
			}
			
		
			public String toStringReveil () {
				return " reveil " + reveil;
			}

		}
		
		public class mecanismeDouble extends mecanismeAnalogique implements ReveilDigital {
			
			private String reveil;
			public mecanismeDouble(double valeurDeBase, String uneHeure, int uneDate, String unReveil) {
				super(valeurDeBase, uneHeure, uneDate);
				reveil = unReveil;
			}

			@Override
			protected String toStringType () {
				return "double";
			}	
			
			@Override
			protected String toStringCadran () {
				String result = "sur l'écran : ";
				result += super.toStringCadran();
				result += ", sous les aiguilles : ";
				result += toStringReveil();
				return result;
			}
			
			public String toStringReveil () {
				return " reveil " + reveil;
			}
		}
		
		 interface ReveilDigital {
			
			 String toStringReveil();

		}

